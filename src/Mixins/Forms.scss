@mixin form-validation-state($state, $color) {

    .#{$state}-feedback {
        display: none;
        margin-top: .25rem;
        font-size: .875rem;
        color: $color;
    }

    .#{$state}-tooltip {
        position: absolute;
        top: 100%;
        z-index: 5;
        display: none;
        width: 250px;
        padding: .5rem;
        margin-top: .1rem;
        font-size: .875rem;
        line-height: 1;
        color: #fff;
        background-color: rgba($color,.8);
        border-radius: .2rem;
    }

    .form-control,
    .custom-select {
        .was-validated &:#{$state},
        &.is-#{$state} {
            border-color: $color;

            &:focus {
                box-shadow: 0 0 0 .2rem rgba($color,.25);
            }

            ~ .#{$state}-feedback,
            ~ .#{$state}-tooltip {
                display: block;
            }
        }
    }


    // TODO: redo check markup lol crap
    .form-check-input {
        .was-validated &:#{$state},
        &.is-#{$state} {
            + .form-check-label {
                color: $color;
            }
        }
    }

    // custom radios and checks
    .custom-control-input {
        .was-validated &:#{$state},
        &.is-#{$state} {
            ~ .custom-control-indicator {
                background-color: rgba($color, .25);
            }
            ~ .custom-control-description {
                color: $color;
            }
        }
    }

    // custom file
    .custom-file-input {
        .was-validated &:#{$state},
        &.is-#{$state} {
            ~ .custom-file-control {
                border-color: $color;

                &::before { border-color: inherit; }
            }
            &:focus {
                box-shadow: 0 0 0 .2rem rgba($color,.25);
            }
        }
    }
}
